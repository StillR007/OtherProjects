const main=document.querySelector("main"),tableNamesInfo=["ФИО","Телефон","Кем приходится",""],contacts=[{name:"Иван",phone:"+7(999)999-99-99",who:"Банк"},{name:"Борис",phone:"+7(000)000-00-00",who:"Сосед"},{name:"Роман",phone:"+7(777)777-77-77",who:"Прохожий"}];function changeBtns(e=!1){let t=document.createElement("button");t.className=e?"edit active":"edit";let n=document.createElement("button");n.className="remove";let a=document.createElement("div");return a.className="change",a.append(t),a.append(n),t.addEventListener("click",(function(){let e=this.closest(".contact").querySelectorAll("input");this.classList.contains("active")?(this.classList.remove("active"),e.forEach(e=>{e.readOnly="readonly"})):(this.classList.add("active"),e.forEach(e=>{e.removeAttribute("readonly")}))})),n.addEventListener("click",(function(){this.closest(".contact").remove()})),a}function addNewContact(e,t=!1){let n=document.createElement("div");n.className="contact";let a=document.createElement("input");a.value=e.name?e.name:"",a.required="required",a.placeholder="Имя";let c=document.createElement("input");c.value=e.phone?e.phone:"",c.required="required",c.placeholder="+7(ХХХ)ХХХ-ХХ-ХХ";let d=document.createElement("input");d.value=e.who?e.who:"",d.required="required",d.placeholder="Кем приходится",t||(d.readOnly="readonly",c.readOnly="readonly",a.readOnly="readonly");let o=changeBtns(t);return n.append(a),n.append(c),n.append(d),n.append(o),n}function getTableNames(){let e=document.createElement("div");return e.className="contact-table",tableNamesInfo.forEach(t=>{let n=document.createElement("div");n.innerText=t,e.append(n)}),e}function getContacts(e){let t=getTableNames(),n=addNewContact(e),a=document.createElement("div");a.className="contact-all",a.append(t),a.append(n),main.append(a)}contacts.forEach(e=>{getContacts(e)});let addNewContactBtn=document.createElement("div");addNewContactBtn.id="add-new-contact",main.append(addNewContactBtn),addNewContactBtn.addEventListener("click",(function(){let e=getTableNames(),t=addNewContact(this,added=!0),n=document.createElement("div");n.className="contact-all",n.append(e),n.append(t),this.before(n)}));